<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body>

  <%- include('../parciales/nav')%>


    <div class="container">
      <div class="row">
        <!--Productos-->
        <main id="items" class="col-sm-9 row ">
          <div class="row row-cols-2 row-cols-md-3 g-5 m-5">

            <% productos.forEach(function(elemento) { %>
              <div class="col">
                <div class="card">
                  <img src="https://picsum.photos/50/50" class="card-img-top" style="width:auto;" alt="...">
                  <div class="card-body">
                    <h5 class="card-title">
                      <%=elemento.nombreProducto%>
                    </h5>
                    <p class="card-text">
                      <%=elemento.descripcionProducto%>
                    </p>
                    <p class="card-text">
                      <%=elemento.precioProducto%>
                    </p>
                  </div>
                  <div class="card-footer text-center">
                    
                    <button type="button" class="btn btn-primary"
                      onclick="traerDatos(`<%=elemento._id%>`,`<%=elemento.nombreProducto%>`,`<%=elemento.precioProducto%>`)">Agregar</button>
                  </div>
                </div>
              </div>
              <%})%>
          </div>
        </main>
        <!-- Compras -->
        <aside class="col-sm-3 mt-5">
          <h2>Carrito</h2>
          <!-- Elementos del carrito -->
          <ul id="carrito" class="list-group">
            <li id="producto"></li>
          </ul>
          <hr>
          <!-- Precio total -->
          <p class="text-right">Total: <span id="total"></span></p>
          <button id="boton-comprar" class="btn btn-primary">Comprar</button>
          <button id="boton-vaciar" class="btn btn-danger">Vaciar</button>
        </aside>
      </div>
    </div>

    <script>
      function traerDatos(i, n, p) {

        const producto = document.getElementById('producto');
        producto.textContent = n;


        const precio = document.getElementById('total');
        precio.textContent = p;

      }

      /*
      const producto = document.createElement('li');
      producto.classList.add('list-group-item', 'text-right', 'mx-2');
      producto.textContent = n;
      */
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"></script>
</body>

</html>